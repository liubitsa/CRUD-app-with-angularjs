<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>Clients</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script type="text/javascript" src="app.js"></script>

  </head>


  <body ng-app="myApp" ng-controller="myController">
   <div class="container">


    
<hr>
<button type="button" class="btn btn-info btn-lg pull-right"  data-toggle="modal" data-target="#myModal">Add new client</button>
<h2> Clients list</h2>
<span class="clearfix"></span>
<hr>


<div class="alert alert-success " ng-if="message">
  <a href="#" class="close" data-dismiss="alert" ng-click="clearMessage()">&times;</a>
 {{message}}
</div>


<table class="table table-striped">
    <thead>
      <tr>
        <th>Index</th>
        <th>Name</th>
        <th>Address</th>
        <th>Email</th>
        <th>Edit</th>
        <th>Delete</th>
        
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in users">
        <td>{{$index+1}}</td>
        <td>{{user.username}}</td>
         <td>{{user.address}}</td>
        <td>{{user.email}}</td>
        <td><button type="button" class="btn btn-primary"  data-toggle="modal" data-target="#myModalEdit" ng-click="selectUser(user)">Edit</button></td>
        <td><button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModalDelete" ng-click="selectUser(user)">Delete </button></td>
      </tr>
        
    </tbody>
  </table>

<!-- Add new--> 
  
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">New Client</h4>
        </div>
        <div class="modal-body">
         
<form class="form-horizontal" name="forms">
     <div class="form-group">
    <label class="control-label col-sm-2">Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" ng-model="newUser.username">
    </div>
  </div>
   <div class="form-group">
    <label class="control-label col-sm-2" >Address:</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" ng-model="newUser.address">
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" >Email:</label>
    <div class="col-sm-10">
      <input type="email" name="email" class="form-control" ng-model="newUser.email" required>
       
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" >Full name</label>
    <div class="col-sm-10"> 
      <input type="text" class="form-control" ng-model="newUser.fullName" >
    </div>
  </div>

  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default" ng-click="saveUser()" data-dismiss="modal">Save</button>
    </div>
  </div>
</form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  <!-- ./ Add new -->



<!--Edit modal -->
    
  <div class="modal fade" id="myModalEdit" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Edit Client</h4>
        </div>
        <div class="modal-body">
         
<form class="form-horizontal">
     <div class="form-group">
    <label class="control-label col-sm-2">Name:</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" ng-model="clickedUser.username" >
    </div>
  </div>
   <div class="form-group">
    <label class="control-label col-sm-2" >Address:</label>
    <div class="col-sm-10">
      <input type="" class="form-control"ng-model="clickedUser.address">
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" >Email:</label>
    <div class="col-sm-10">
      <input type="email" class="form-control"ng-model="clickedUser.email">
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2" >Full name</label>
    <div class="col-sm-10"> 
      <input type="text" class="form-control" ng-model="clickedUser.fullName" >
    </div>
  </div>

  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default" ng-click="updateUser()" data-dismiss="modal">Save</button>
    </div>
  </div>
</form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  <!-- ./ Edit -->


<!--Delete -->

  
  <div class="modal fade" id="myModalDelete" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Are you sure?</h4>
        </div>
        <div class="modal-body">
       
        
                  You are going to delete all information about <strong >{{clickedUser.fullName}}</strong>
            
        </div>
        <div class="modal-footer">
             <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="deleteUser()">YES</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">NO</button>
        </div>
      </div>
      
    </div>
  </div>
 
<!-- ./ Delete-->
   </div>

    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="js/bootstrap.min.js"></script>-->
  </body>
</html>